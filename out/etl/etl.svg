<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="923px" preserveAspectRatio="none" style="width:915px;height:923px;background:#FFFFFF;" version="1.1" viewBox="0 0 915 923" width="915px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="317" x="292.25" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="307" x="297.25" y="24.5332">Принцип обогащения данных в рамках ETL</text><!--MD5=[4ac0d9c05859dec60da10c10937225a7]
cluster Postgress--><g id="cluster_Postgress"><path d="M197,697.6094 C197,687.6094 369.5,687.6094 369.5,687.6094 C369.5,687.6094 542,687.6094 542,697.6094 L542,896.6094 C542,906.6094 369.5,906.6094 369.5,906.6094 C369.5,906.6094 197,906.6094 197,896.6094 L197,697.6094 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M197,697.6094 C197,707.6094 369.5,707.6094 369.5,707.6094 C369.5,707.6094 542,707.6094 542,697.6094 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="71" x="334" y="724.1426">Postgress</text></g><!--MD5=[f513f55b91664030ee68acca8cb5e77c]
cluster Файлы--><g id="cluster_Файлы"><path d="M221.5,158.6094 L272.5,158.6094 A3.75,3.75 0 0 1 275,161.1094 L282,182.2188 L801.5,182.2188 A2.5,2.5 0 0 1 804,184.7188 L804,330.1094 A2.5,2.5 0 0 1 801.5,332.6094 L221.5,332.6094 A2.5,2.5 0 0 1 219,330.1094 L219,161.1094 A2.5,2.5 0 0 1 221.5,158.6094 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="219" x2="282" y1="182.2188" y2="182.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="50" x="223" y="175.1426">Файлы</text></g><!--MD5=[23ee17d12b9d3dea37a9824d5b849caf]
cluster GoogleDrive--><g id="cluster_GoogleDrive"><path d="M575.5,210.6094 L665.5,210.6094 A3.75,3.75 0 0 1 668,213.1094 L675,234.2188 L769.5,234.2188 A2.5,2.5 0 0 1 772,236.7188 L772,298.1094 A2.5,2.5 0 0 1 769.5,300.6094 L575.5,300.6094 A2.5,2.5 0 0 1 573,298.1094 L573,213.1094 A2.5,2.5 0 0 1 575.5,210.6094 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="573" x2="675" y1="234.2188" y2="234.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="577" y="227.1426">GoogleDrive</text></g><!--MD5=[6280bf0af784fb0e4b7f5241b31818a7]
cluster Росреестр--><g id="cluster_Росреестр"><path d="M261.5,210.6094 L338.5,210.6094 A3.75,3.75 0 0 1 341,213.1094 L348,234.2188 L546.5,234.2188 A2.5,2.5 0 0 1 549,236.7188 L549,298.1094 A2.5,2.5 0 0 1 546.5,300.6094 L261.5,300.6094 A2.5,2.5 0 0 1 259,298.1094 L259,213.1094 A2.5,2.5 0 0 1 261.5,210.6094 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="259" x2="348" y1="234.2188" y2="234.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76" x="263" y="227.1426">Росреестр</text></g><!--MD5=[2bc534311b38a7f7508092f91511a69f]
cluster external--><g id="cluster_external"><path d="M584.5,740.6094 L717.5,740.6094 A3.75,3.75 0 0 1 720,743.1094 L727,764.2188 L877.5,764.2188 A2.5,2.5 0 0 1 880,766.7188 L880,866.1094 A2.5,2.5 0 0 1 877.5,868.6094 L584.5,868.6094 A2.5,2.5 0 0 1 582,866.1094 L582,743.1094 A2.5,2.5 0 0 1 584.5,740.6094 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="582" x2="727" y1="764.2188" y2="764.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="132" x="586" y="757.1426">Внешние системы</text></g><!--MD5=[09a851ec0f7822784b9747f65816e184]
class buildings--><g id="elem_buildings"><rect codeLine="7" fill="#F1F1F1" height="136.0469" id="buildings" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="362.5" y="746.6094"/><ellipse cx="407.75" cy="762.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M408.6719,760 L408.6719,766.6563 L409.8281,766.6563 Q410.4375,766.6563 410.6953,766.8906 Q410.9531,767.125 410.9531,767.5156 Q410.9531,767.8906 410.6953,768.125 Q410.4375,768.3594 409.8281,768.3594 L405.8438,768.3594 Q405.2188,768.3594 404.9609,768.125 Q404.7031,767.8906 404.7031,767.5 Q404.7031,767.125 404.9609,766.8906 Q405.2188,766.6563 405.8438,766.6563 L406.9688,766.6563 L406.9688,760 L405.125,760 L405.125,761.6094 Q405.125,762.2188 404.8906,762.4844 Q404.6563,762.75 404.2813,762.75 Q403.9063,762.75 403.6719,762.4844 Q403.4375,762.2188 403.4375,761.6094 L403.4375,758.2969 L412.25,758.2969 L412.25,761.6094 Q412.25,762.2188 412.0078,762.4844 Q411.7656,762.75 411.3906,762.75 Q411.0156,762.75 410.7813,762.4844 Q410.5469,762.2188 410.5469,761.6094 L410.5469,760 L408.6719,760 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="428.25" y="768.3379">buildings</text><line style="stroke:#181818;stroke-width:0.5;" x1="363.5" x2="516.5" y1="778.6094" y2="778.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="368.5" y="797.1426">int id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="368.5" y="814.752">float area</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="368.5" y="832.3613">date build_date</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="368.5" y="849.9707">boolean is_emergency</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="368.5" y="867.5801">point point</text><line style="stroke:#181818;stroke-width:0.5;" x1="363.5" x2="516.5" y1="874.6563" y2="874.6563"/></g><!--MD5=[9c1c032e77c9431cabef6b2260f51f2c]
class roads--><g id="elem_roads"><rect codeLine="14" fill="#F1F1F1" height="118.4375" id="roads" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="240.5" y="755.6094"/><ellipse cx="264.05" cy="771.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M264.9719,769 L264.9719,775.6563 L266.1281,775.6563 Q266.7375,775.6563 266.9953,775.8906 Q267.2531,776.125 267.2531,776.5156 Q267.2531,776.8906 266.9953,777.125 Q266.7375,777.3594 266.1281,777.3594 L262.1438,777.3594 Q261.5188,777.3594 261.2609,777.125 Q261.0031,776.8906 261.0031,776.5 Q261.0031,776.125 261.2609,775.8906 Q261.5188,775.6563 262.1438,775.6563 L263.2688,775.6563 L263.2688,769 L261.425,769 L261.425,770.6094 Q261.425,771.2188 261.1906,771.4844 Q260.9563,771.75 260.5813,771.75 Q260.2063,771.75 259.9719,771.4844 Q259.7375,771.2188 259.7375,770.6094 L259.7375,767.2969 L268.55,767.2969 L268.55,770.6094 Q268.55,771.2188 268.3078,771.4844 Q268.0656,771.75 267.6906,771.75 Q267.3156,771.75 267.0813,771.4844 Q266.8469,771.2188 266.8469,770.6094 L266.8469,769 L264.9719,769 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="279.95" y="777.3379">roads</text><line style="stroke:#181818;stroke-width:0.5;" x1="241.5" x2="326.5" y1="787.6094" y2="787.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="246.5" y="806.1426">int id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="246.5" y="823.752">str name</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="246.5" y="841.3613">road_t type</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="246.5" y="858.9707">array points</text><line style="stroke:#181818;stroke-width:0.5;" x1="241.5" x2="326.5" y1="866.0469" y2="866.0469"/></g><!--MD5=[e1c73eef664c66bfd18c34074b397cbb]
entity GoogleDrive.buildings--><g id="elem_GoogleDrive.buildings"><path d="M680,249.1094 L680,281.7188 A2.5,2.5 0 0 0 682.5,284.2188 L753.5,284.2188 A2.5,2.5 0 0 0 756,281.7188 L756,256.6094 L746,246.6094 L682.5,246.6094 A2.5,2.5 0 0 0 680,249.1094 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M746,246.6094 L746,254.1094 A2.5,2.5 0 0 0 748.5,256.6094 L756,256.6094 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="690" y="271.1426">buildings</text></g><!--MD5=[d57e5ec984c89e6599c429c26ff37265]
entity GoogleDrive.roads--><g id="elem_GoogleDrive.roads"><path d="M589,249.1094 L589,281.7188 A2.5,2.5 0 0 0 591.5,284.2188 L642.5,284.2188 A2.5,2.5 0 0 0 645,281.7188 L645,256.6094 L635,246.6094 L591.5,246.6094 A2.5,2.5 0 0 0 589,249.1094 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M635,246.6094 L635,254.1094 A2.5,2.5 0 0 0 637.5,256.6094 L645,256.6094 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="599" y="271.1426">roads</text></g><!--MD5=[321457970abbb0b5ae4ac995b4bdfbe7]
entity Росреестр.Архангельск--><g id="elem_Росреестр.Архангельск"><path d="M431.5,249.1094 L431.5,281.7188 A2.5,2.5 0 0 0 434,284.2188 L530,284.2188 A2.5,2.5 0 0 0 532.5,281.7188 L532.5,256.6094 L522.5,246.6094 L434,246.6094 A2.5,2.5 0 0 0 431.5,249.1094 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M522.5,246.6094 L522.5,254.1094 A2.5,2.5 0 0 0 525,256.6094 L532.5,256.6094 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="441.5" y="271.1426">Архангельск</text></g><!--MD5=[a028a8fa7beb1051bcb41993cd07f430]
entity Росреестр.Калевала_Ухта--><g id="elem_Росреестр.Калевала_Ухта"><path d="M275.5,249.1094 L275.5,281.7188 A2.5,2.5 0 0 0 278,284.2188 L394,284.2188 A2.5,2.5 0 0 0 396.5,281.7188 L396.5,256.6094 L386.5,246.6094 L278,246.6094 A2.5,2.5 0 0 0 275.5,249.1094 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M386.5,246.6094 L386.5,254.1094 A2.5,2.5 0 0 0 389,256.6094 L396.5,256.6094 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="285.5" y="271.1426">Калевала_Ухта</text></g><!--MD5=[5956b5b7285dfc003ad23b1c8c8c6555]
entity YandexGeocode--><g id="elem_YandexGeocode"><ellipse cx="796" cy="814.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="743.5" y="846.1426">YandexGeocode</text></g><!--MD5=[ca2248a6e5c49696e6ad400d71a6bdab]
entity Overpass--><g id="elem_Overpass"><ellipse cx="663" cy="814.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="632.5" y="846.1426">Overpass</text></g><g id="elem_GMN5"><path d="M6,785.1094 L6,844.1641 L170,844.1641 L170,795.1094 L160,785.1094 L6,785.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M160,785.1094 L160,795.1094 L170,795.1094 L160,785.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="12" y="803.6045">В базе хранятся</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="12" y="819.9561">упорядоченные данные</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="12" y="836.3076">длянашего Backend-а</text></g><g id="elem_GMN15"><path d="M139,44.6094 L139,103.6641 L315,103.6641 L315,54.6094 L305,44.6094 L139,44.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M305,44.6094 L305,54.6094 L315,54.6094 L305,44.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="145" y="63.1045">Данные От организаторов</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="145" y="79.4561">и из баз данных типа</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="145" y="95.8076">аис.фрт.рф</text></g><!--MD5=[a6db0c926898241e7c594507fb3ca544]
entity Backend--><g id="elem_Backend"><polygon fill="#F1F1F1" points="454,474.6094,464,464.6094,718,464.6094,718,545.4375,708,555.4375,454,555.4375,454,474.6094" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="708" x2="718" y1="474.6094" y2="464.6094"/><line style="stroke:#181818;stroke-width:0.5;" x1="454" x2="708" y1="474.6094" y2="474.6094"/><line style="stroke:#181818;stroke-width:0.5;" x1="708" x2="708" y1="474.6094" y2="555.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="469" y="499.1426">Backend нашей системы</text><line style="stroke:#181818;stroke-width:1.0;" x1="454" x2="708" y1="502.2188" y2="502.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="708" x2="718" y1="502.2188" y2="492.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="469" y="520.752">GET overpass (request) : response</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="469" y="538.3613">GET yandex (request) : response</text></g><g id="elem_GMN22"><path d="M753.5,456.1094 L753.5,506.1094 L718.07,510.1094 L753.5,514.1094 L753.5,564.2188 A0,0 0 0 0 753.5,564.2188 L908.5,564.2188 A0,0 0 0 0 908.5,564.2188 L908.5,466.1094 L898.5,456.1094 L753.5,456.1094 A0,0 0 0 0 753.5,456.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M898.5,456.1094 L898.5,466.1094 L908.5,466.1094 L898.5,456.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="759.5" y="474.6045">Backend экспортирует</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="759.5" y="490.9561">фбстракцию внешних</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="759.5" y="507.3076">сервисов для Nifi</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="759.5" y="523.6592">через определённые</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="759.5" y="540.0107">функции внутреннего</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="759.5" y="556.3623">API</text></g><!--MD5=[91ab8aded30999891b61ec701d33b727]
entity ApacheNifi--><g id="elem_ApacheNifi"><polygon fill="#F1F1F1" points="158.5,430.6094,168.5,420.6094,295.5,420.6094,295.5,589.4844,285.5,599.4844,158.5,599.4844,158.5,430.6094" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="285.5" x2="295.5" y1="430.6094" y2="420.6094"/><line style="stroke:#181818;stroke-width:0.5;" x1="158.5" x2="285.5" y1="430.6094" y2="430.6094"/><line style="stroke:#181818;stroke-width:0.5;" x1="285.5" x2="285.5" y1="430.6094" y2="599.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="173.5" y="455.1426">ApacheNifi</text><line style="stroke:#181818;stroke-width:1.0;" x1="158.5" x2="285.5" y1="458.2188" y2="458.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="285.5" x2="295.5" y1="458.2188" y2="448.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="173.5" y="476.752">Система ETL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="173.5" y="494.3613">интегрируется</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="173.5" y="511.9707">со многими</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="173.5" y="529.5801">источниками</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="173.5" y="547.1895">в том числе</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="173.5" y="564.7988">файловой</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="173.5" y="582.4082">системой</text></g><!--MD5=[27d1ac2020c3784c9c3168e63489d954]
link GMN5 to Postgress--><g id="link_GMN5_Postgress"><path d="M170.27,814.6094 C175.965,814.6094 181.6625,814.6094 187.3613,814.6094 C190.2106,814.6094 193.0603,814.6094 195.9102,814.6094 C196.2664,814.6094 196.6226,814.6094 196.9789,814.6094 " fill="none" id="GMN5-Postgress" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[5727ea63509adfe137e71ded88a50b0f]
link GMN15 to Файлы--><g id="link_GMN15_Файлы"><path d="M227,103.8894 C227,116.9344 227,133.2925 227,150.543 C227,152.6993 227,154.8695 227,157.049 C227,157.3214 227,157.594 227,157.8667 " fill="none" id="GMN15-Файлы" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[02364d35970bac1b73c009bac2527640]
link ApacheNifi to Postgress--><g id="link_ApacheNifi_Postgress"><path codeLine="75" d="M220.55,599.8294 C218.9525,621.7944 217.1994,645.8956 215.4641,669.7514 C215.0302,675.7154 214.5975,681.664 214.1686,687.56 " fill="none" id="ApacheNifi-to-Postgress" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="214.1686,687.56,218.811,678.8739,214.5314,682.5732,210.8321,678.2935,214.1686,687.56" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="247" y="644.1045">Nifi раскидывает</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="218" y="660.4561">данные по всем таблицам</text></g><!--MD5=[48e9a635d446fe1aa2395b4a0aff09c7]
link Файлы to ApacheNifi--><g id="link_Файлы_ApacheNifi"><path codeLine="76" d="M227,333.2146 C227,335.1578 227,337.1247 227,339.1126 C227,347.0639 227,355.3509 227,363.8002 C227,380.6988 227,398.2469 227,415.0594 " fill="none" id="Файлы-to-ApacheNifi" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="227,420.2894,231,411.2894,227,415.2894,223,411.2894,227,420.2894" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="241.5" y="371.1045">Nifi читает файлы</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="228" y="387.4561">из файловой системы</text></g><!--MD5=[02ef0e279becb48c10f00d6f60d24361]
link ApacheNifi to Backend--><g id="link_ApacheNifi_Backend"><path codeLine="77" d="M295.79,510.1094 C339.09,510.1094 396.48,510.1094 448.79,510.1094 " fill="none" id="ApacheNifi-to-Backend" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="453.83,510.1094,444.83,506.1094,448.83,510.1094,444.83,514.1094,453.83,510.1094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="327.25" y="470.6045">Nifi обращается</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="329.75" y="486.9561">к внешинм API</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="315.75" y="503.3076">через наш Backend</text></g><!--MD5=[5ae88128b0a3787db0da462ae6d07fd8]
link Backend to external--><g id="link_Backend_external"><path codeLine="78" d="M586.59,555.7394 C587.14,597.1594 587.975,660.2744 588.6813,713.6944 C588.7695,720.3719 588.8558,726.8979 588.9393,733.2111 C588.9601,734.7894 588.9808,736.3544 589.0013,737.9052 C589.0115,738.6805 589.0217,739.4524 589.0319,740.2205 " fill="none" id="Backend-to-external" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="589.0319,740.2205,592.9126,731.1684,588.9658,735.2209,584.9133,731.2741,589.0319,740.2205" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[bc2cecee25a643a2dc232294a8ba40c2]
@startuml etl

allowmixing

title Принцип обогащения данных в рамках ETL

database Postgress {
    class buildings << (T,#ADD1B2) >> {
        int id
        float area
        date build_date
        boolean is_emergency
        point point
    }
    class roads << (T,#ADD1B2) >> {
        int id
        str name
        road_t type
        array points
    }
}
note left of Postgress
В базе хранятся
упорядоченные данные
длянашего Backend-а
end note

package Файлы {
    namespace GoogleDrive {
        file buildings
        file roads
    }
    namespace Росреестр {
        file Архангельск
        file Калевала_Ухта
    }
}
note top of Файлы
Данные От организаторов
и из баз данных типа
аис.фрт.рф
end note

package "Внешние системы" as external {
    () YandexGeocode
    () Overpass
}

node Backend [
    Backend нашей системы
    - -
    GET overpass (request) : response
    GET yandex (request) : response
]
note right of Backend
Backend экспортирует
фбстракцию внешних
сервисов для Nifi
через определённые
функции внутреннего
API
end note

node ApacheNifi [
    ApacheNifi
    - -
    Система ETL
    интегрируется
    со многими
    источниками
    в том числе
    файловой
    системой
]

ApacheNifi - -> Postgress : Nifi раскидывает\nданные по всем таблицам
Файлы - -> ApacheNifi : Nifi читает файлы\nиз файловой системы
ApacheNifi -right-> Backend : Nifi обращается\nк внешинм API\nчерез наш Backend
Backend - -> external

@enduml

PlantUML version 1.2022.7(Mon Aug 22 20:01:30 MSK 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1251
Language: en
Country: US
--></g></svg>